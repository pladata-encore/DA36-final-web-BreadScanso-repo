{% load static %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiosk | Products</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="kiosk-products">
    <!-- í—¤ë” -->
    <header>
        <img src="{% static 'images/brand_logo.png' %}" alt="ë¸Œëœë“œ ë¡œê³ " class="brand-logo">
    </header>

    <!-- ì§€ì ëª… -->
    <span class="store-name">{% if member %}{{ store_name }}{% endif %}ì </span>


    <div class="container">
        <!-- ì›¹ìº  -->
        <div class="video-container">
            <video id="webcam" autoplay playsinline></video>
            <button id="capture-btn">ğŸ“¸ì´¬ì˜</button>
        </div>

        <!-- ì£¼ë¬¸ ëª©ë¡ -->
        <div class="order-list">
            <h3>ì£¼ë¬¸ ëª©ë¡</h3>
            <table>
                <thead>
                <tr>
                    <th>ë©”ë‰´ì´ë¦„</th>
                    <th>ë‹¨ê°€</th>
                    <th>ìˆ˜ëŸ‰</th>
                    <th>ê¸ˆì•¡</th>
                    <th style="width: 50px; padding: 0;">ì‚­ì œ</th>
                </tr>
                </thead>
                <tbody id="order-table">
                </tbody>
            </table>

            <div class="total-container">
                <div class="total-info" style="text-align: center;">
                    <p>ì´ ìˆ˜ëŸ‰: <strong id="totalQuantity">0ê°œ</strong></p>
                    <p>ì´ ê¸ˆì•¡: <strong id="totalAmount">0ì›</strong></p>
                </div>
                <div class="btn-container">
                    <button id="reset-order-btn" class="reset-button"
                            style="background-color:gray; color: white;">
                        ì´ˆê¸°í™”
                    </button>
                    <button id="add-item-btn"
                            style="background-color: sandybrown; color: white;">
                        í’ˆëª© ì¶”ê°€
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ëª¨ë‹¬ ì°½ -->
    <div id="edit-modal"
         style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5);">
        <div style="background:white; width:500px; margin:50px auto; padding:30px; border-radius:10px;">
            <h3>í’ˆëª© ìˆ˜ì •/ì¶”ê°€</h3>
            <input type="text" id="search-input" placeholder="í’ˆëª© ê²€ìƒ‰"
                   style="width:100%; padding:10px; margin-bottom:15px; font-size:16px; border-radius:5px; border:1px solid #ddd;">
            <select id="item-select" size="5"
                    style="width:100%; padding:10px; margin-bottom:15px; font-size:16px; border-radius:5px; border:1px solid #ddd;"></select>
            <input type="number" id="quantity-input" min="1" value="1"
                   style="width:100%; padding:10px; margin-bottom:15px; font-size:16px; border-radius:5px; border:1px solid #ddd;">
            <button id="save-item-btn"
                    style="background-color:blue; color:white; padding:12px 24px; font-size:16px; border:none; border-radius:5px; cursor:pointer; margin-right:10px;">
                ì €ì¥
            </button>
            <button id="close-modal-btn"
                    style="background-color:gray; color:white; padding:12px 24px; font-size:16px; border:none; border-radius:5px; cursor:pointer;">
                ë‹«ê¸°
            </button>
        </div>
    </div>

    <!-- ë²„íŠ¼ -->
    <div class="button-container">
        <button class="gray-button">ì§ì› í˜¸ì¶œ</button>
        <a href="{% url 'member' %}">
            <button class="sandybrown-button">ê²°ì œ</button>
        </a>
    </div>

    <!-- Django ë°ì´í„°ë¥¼ JavaScriptì— ì „ë‹¬ -->
    <script>
        const menu_data = {{ menu_data|safe|default:"{}" }};
        console.log("Loaded menu_data:", menu_data);
    </script>

    <!-- JavaScript íŒŒì¼ ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="{% static 'js/kiosk-products.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
